<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Black-box Penetration Test</title>
  <link rel="stylesheet" href="https://myfirstorlastname.github.io/whoami/style.css" />
</head>
<body>
  <div id="toc-container"></div>

  <header>
    <h1>Black-box Penetration Test : Cap</h1>
  </header>

   <section>
    <h2>ðŸ§  About</h2>
     <p>Cap is an easy difficulty Linux machine running an HTTP server that performs administrative functions including performing network captures.</p>
     <p>Improper controls result in Insecure Direct Object Reference (IDOR) giving access to another user's capture.</p>
     <p>The capture contains plaintext credentials and can be used to gain foothold.</p>
     <p>A Linux capability is then leveraged to escalate to root.</p>
   </section>

   <section>
    <h2>VPN</h2>
       <p>Connect to vpn using openvpn</p>
   </section>

   <section>
    <h2>Scan</h2>
       <p>Scan IP with nmap</p>
       <p>found ports open : 21, 22, 80</p>
   </section>

   <section>
    <h2>PCAP - Credentials Theft via IDOR</h2>
       <p>IDOR : request the pcap file for id=0 instead of yours</p>
       <p>Credentials Theft : download PCAP file, open it with wireshark, follow tcp Stream, user & password are in plaintext</p>
   </section>

   <section>
    <h2>User - Initial Access via SSH Takeover</h2>
       <p>SSH Takeover : test creds on ftp -> failed, test them on ssh -> success</p>
   </section>

   <section>
    <h2>Root - Privileges Escalation via Python cap_setuid</h2>
       <p>Python cap_setuid : Launch linpeas, result about python capabilities tells that setuid is available</p>
       <p>Privileges Escalation : Launch python, exploit os.setuid and call a shell</p>
       <p>ROOT</p>
   </section>

  <footer>
    <p>With IDOR, attackers donâ€™t break in, you hand them the wrong personâ€™s keys</p>
    <p>With Python cap_setuid, one misplaced capability and your script becomes the wrong kind of root cause</p>
  </footer>
  <script src="https://myfirstorlastname.github.io/whoami/call_for_toc.js"></script>
</body>
</html>
